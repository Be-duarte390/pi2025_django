{% extends 'Base/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block titulo %}Cadastro de Funcionário{% endblock %}

{% block conteudo %}
<img src="{% static 'Imagens/logo.png' %}" class="logo d-block mx-auto" style="margin-bottom: 0px;" alt="Logo do Instituto">
<div class="container d-flex justify-content-center align-items-center">
    <div class="col-12 col-md-10 col-lg-8">
        <h1 class="text-center" style="margin-top: 0px; margin-bottom: 5px;">Cadastro de Funcionário</h1>

        <div class="card shadow rounded-4 p-4">
            <form method="POST" novalidate>
                {% csrf_token %}
                
                <div class="row g-3">

                    <!-- Nome Completo -->
                    <div class="col-md-6">
                        <label for="{{ form.nome.id_for_label }}" class="form-label">Nome Completo</label>
                        {{ form.nome }}
                        {% if form.nome.errors %}
                            <div class="text-danger">
                                {% for error in form.nome.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- CPF -->
                    <div class="col-md-6">
                        <label for="{{ form.cpf.id_for_label }}" class="form-label">CPF</label>
                        {{ form.cpf }}
                        {% if form.cpf.errors %}
                            <div class="text-danger">
                                {% for error in form.cpf.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Email -->
                    <div class="col-md-6">
                        <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="text-danger">
                                {% for error in form.email.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Senha -->
                    <div class="col-md-6">
                        <label for="{{ form.senha.id_for_label }}" class="form-label">Senha</label>
                        {{ form.senha }}
                        {% if form.senha.errors %}
                            <div class="text-danger">
                                {% for error in form.senha.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>


                </div>

                <!-- Funções do Funcionário -->
                <div class="mt-4">
                    <label class="form-label fw-bold fs-5 text-primary">Funções do Funcionário</label>
                    <div class="d-flex flex-wrap gap-3">
                        {% for checkbox in form.funcoes %}
                            <div class="form-check form-check-inline">
                                {{ checkbox.tag }}
                                <label class="form-check-label" for="{{ checkbox.id_for_label }}">{{ checkbox.choice_label }}</label>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Botão de Cadastro -->
                <div class="mt-4 d-grid">
                    <button type="submit" class="btn btn-primary">Cadastrar Funcionário</button>
                </div>
                {% if cadastro_realizado %}
                    <div class="alert alert-success" role="alert">
                        Funcionário cadastrado com sucesso!
                    </div>
                {% endif %}
            </form>
        </div>
    </div>
</div>
{% endblock %}
